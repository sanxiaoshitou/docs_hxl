# java位运算详解


## 一、位运算

### &：按位与
两个操作数对应位同为1时，结果为1，其余全为0。    
（或者是只要有一个操作数为0，结果就为0）。  

示例:
```java
System.out.println(5 & 3);//结果为1
```
运算比较：      
5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101     
3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011     

1按位与运算后：0000 0000 0000 0000 0000 0000 0000 0001
————————————————————————————————————————————————————————

### |：按位或
两个操作数对应位同为0时，结果为0，其余全为1。    
（或者是只要有一个操作数为1，结果就为1）。  
示例:
```java
System.out.println(5 | 3);//结果为7
```
运算比较：   
5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101     
3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011     

7按位或运算后：0000 0000 0000 0000 0000 0000 0000 0111
————————————————————————————————————————————————————————

### ~：按位非
第n位为1，那么按位非的结果是第n位变为0，反之亦然。
示例:
```java
System.out.println(~5);//结果为-6
```
5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101     
-6按位非运算后：1111 1111 1111 1111 1111 1111 1111 1010
————————————————————————————————————————————————————————

### ^：按位异或
第一个操作数的第n位与第二个操作数的第n位不同，结果为1，否则为0。      
示例:     
```java
System.out.println(5 ^ 3);//结果为6
```
5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101     
3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011     

6按位异或运算：0000 0000 0000 0000 0000 0000 0000 0110
————————————————————————————————————————————————————————

### <<：左位移运算符
符号位不变，低位补0。移几位补几个0。正数或者负数左移，低位都是用0补。
示例：
```java
public class Test {
    public static void main(String[] args) {
        System.out.println(5<<2);//运行结果是20
    }
}
```
0000 0000 0000 0000 0000 0000 0000 0101 左移2位，低位补0：

0000 0000 0000 0000 0000 0000 0001 0100 换算成10进制为20
————————————————————————————————————————————————————————

### >>：右位移运算符
如果值为正，则在高位补0，如果值为负，则在高位补1.
示例：
```shell
public class Test {
	public static void main(String[] args) {
		System.out.println(5>>2);//运行结果是1
	}
}
```
0000 0000 0000 0000 0000 0000 0000 0101 右移2位，高位补0

0000 0000 0000 0000 0000 0000 0000 0001
————————————————————————————————————————————————————————

## 二、常见位运算公式

### 1、公式：m*2^n = m << n
示例：
```java
@Test
public void test() {
        System.out.println("2^3=" + (1 << 3));//2^3=8
        System.out.println("3*2^3=" + (3 << 3));//3*2^3=24
}
```

### 2、公式：n&1 == 1?”奇数”:”偶数”

### 3、不用临时变量交换两个数
```java
    public void test2() {
        int n = 2;
        int m = 3;
        n = n ^ m;
        m = m ^ n;  //m = m ^ (n ^ m) => m=n
        n = n ^ m;  //n = (n ^ m)^[m ^ (n ^ m)] => n=m
        System.out.println(n + ";" + m); //3;2
    }

```